# GitHub Actions è‡ªåŠ¨å‘å¸ƒè®¾ç½®è¯´æ˜

## ğŸš€ å·²åˆ›å»ºçš„å·¥ä½œæµ

æˆ‘å·²ç»ä¸ºä½ çš„é¡¹ç›®åˆ›å»ºäº†ä¸¤ä¸ªGitHub Actionså·¥ä½œæµï¼š

### 1. CIå·¥ä½œæµ (`.github/workflows/ci.yml`)
- **è§¦å‘æ¡ä»¶**: æ¨é€åˆ° main/master/develop åˆ†æ”¯æˆ–åˆ›å»º PR
- **åŠŸèƒ½**: 
  - åœ¨å¤šä¸ªNode.jsç‰ˆæœ¬(14.x, 16.x, 18.x, 20.x)ä¸Šæµ‹è¯•
  - è¿è¡Œä»£ç æ£€æŸ¥å’Œæµ‹è¯•
  - æ£€æŸ¥åŒ…å®Œæ•´æ€§
  - å®‰å…¨æ¼æ´æ‰«æ

### 2. å‘å¸ƒå·¥ä½œæµ (`.github/workflows/publish.yml`)
- **è§¦å‘æ¡ä»¶**: 
  - æ¨é€åˆ° main/master åˆ†æ”¯ â†’ è‡ªåŠ¨å‘å¸ƒåˆ°npm
  - æ¨é€æ ‡ç­¾ (v*) â†’ å‘å¸ƒå¸¦æ ‡ç­¾çš„ç‰ˆæœ¬
- **åŠŸèƒ½**:
  - å…ˆè¿è¡Œæµ‹è¯•ç¡®ä¿ä»£ç è´¨é‡
  - è‡ªåŠ¨å‘å¸ƒåˆ° npm ä»“åº“

## ğŸ”§ å¿…éœ€çš„è®¾ç½®æ­¥éª¤

### 1. åœ¨GitHubä»“åº“ä¸­è®¾ç½®NPM_TOKENå¯†é’¥

1. ç™»å½•åˆ° [npmjs.com](https://www.npmjs.com)
2. ç‚¹å‡»å¤´åƒ â†’ Access Tokens â†’ Generate New Token
3. é€‰æ‹© "Automation" ç±»å‹çš„token
4. å¤åˆ¶ç”Ÿæˆçš„token

5. åœ¨GitHubä»“åº“ä¸­ï¼š
   - è¿›å…¥ Settings â†’ Secrets and variables â†’ Actions
   - ç‚¹å‡» "New repository secret"
   - Name: `NPM_TOKEN`
   - Value: ç²˜è´´ä½ çš„npm token
   - ç‚¹å‡» "Add secret"

### 2. ç¡®ä¿åˆ†æ”¯åç§°æ­£ç¡®

æ£€æŸ¥ä½ çš„ä¸»åˆ†æ”¯åç§°æ˜¯ `main` è¿˜æ˜¯ `master`ï¼Œå·¥ä½œæµå·²é…ç½®æ”¯æŒä¸¤è€…ã€‚

### 3. ç‰ˆæœ¬ç®¡ç†

- **è‡ªåŠ¨å‘å¸ƒ**: ç›´æ¥æ¨é€åˆ°ä¸»åˆ†æ”¯ä¼šè‡ªåŠ¨å‘å¸ƒå½“å‰ç‰ˆæœ¬
- **ç‰ˆæœ¬å‘å¸ƒ**: åˆ›å»ºgitæ ‡ç­¾æ¥å‘å¸ƒç‰¹å®šç‰ˆæœ¬
  ```bash
  git tag v1.0.9
  git push origin v1.0.9
  ```

## ğŸ“ ä½¿ç”¨æ–¹æ³•

### æ—¥å¸¸å¼€å‘
```bash
# ä¿®æ”¹ä»£ç å
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
git push origin main  # è¿™ä¼šè§¦å‘è‡ªåŠ¨å‘å¸ƒ
```

### å‘å¸ƒæ–°ç‰ˆæœ¬
```bash
# æ›´æ–°ç‰ˆæœ¬å·
npm version patch  # æˆ– minor, major
git push origin main
git push origin --tags  # æ¨é€æ ‡ç­¾è§¦å‘ç‰ˆæœ¬å‘å¸ƒ
```

## âœ… éªŒè¯è®¾ç½®

æ¨é€ä»£ç åï¼Œä½ å¯ä»¥åœ¨GitHubä»“åº“çš„ "Actions" æ ‡ç­¾é¡µæŸ¥çœ‹å·¥ä½œæµè¿è¡ŒçŠ¶æ€ã€‚

## ğŸ” æ•…éšœæ’é™¤

å¦‚æœå·¥ä½œæµå¤±è´¥ï¼Œå¸¸è§åŸå› ï¼š
1. NPM_TOKEN æœªè®¾ç½®æˆ–å·²è¿‡æœŸ
2. åŒ…åå·²å­˜åœ¨ä¸”ä½ æ²¡æœ‰å‘å¸ƒæƒé™
3. package.json ä¸­çš„ç‰ˆæœ¬å·å·²å­˜åœ¨äºnpm

æŸ¥çœ‹Actionsé¡µé¢çš„è¯¦ç»†æ—¥å¿—æ¥è¯Šæ–­å…·ä½“é—®é¢˜ã€‚